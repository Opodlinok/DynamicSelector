# CHANGELOG

Все заметные изменения этого проекта документируются в этом файле.  
Этот проект использует [Семантическое версионирование](https://semver.org/).  

---

## [0.12.1] - 2025-02-08
### Fixed
- Исправлено: удаление BOM теперь происходит только при обнаружении символа `\uFEFF` в **первом** байте. Ранее использовался `Trim`, который мог ошибочно обрезать открывающий `<` и ломать парсинг XML.

---

## [0.12.0] - 2025-01-04
### Added
- Добавлена поддержка новых тегов `<after:"...">` и `<before:"...">` в Formatter. Теперь можно извлекать следующее или предыдущее слово относительно заданного «маяка».
- `<included>` и `<excluded>` добавлены в ConditionalMappings `OfferView`
- Теперь у плагина есть wiki документация доступная [по ссылке](https://github.com/Opodlinok/DynamicSelector/wiki), а также через интерфейс плагина в Unity.

### Changed
- В регулярном выражении FormatToken расширен параметр `param` (теперь разрешены пробелы и другие символы, кроме `>`).

### Fixed
- Исправлено: Switcher невозможно было переключить при выключенном interactable.

---

## [0.11.0] - 2024-12-24
### Added
- Добавлена логика тегов `<included>` и `<excluded>` и точного сравнения в `DictionaryToggleFilter` — все варианты проверок (включение, исключение, точное совпадение, отсутствие поля) теперь объединены в едином механизме.

### Changed
- Обновлён пример использования в Sample-сцене.

### Fixed
- Исправлено: некорректно обрабатывались символы при сравнении строк в `FilterCondition`.
- Исправлено: скрытые поля некоторых классов могли отображаться в инспекторе.

---

## [0.10.0] - 2024-12-24
### Added
- Добавлена возможность исключить все офферы, кроме определённых используя included в FeedManager.

### Changed
- Теперь в `DictionaryToggleFilter` можно использовать сразу несколько полей и значений для одного переключателя.

### Fixed
- Исправлено: не учитывались и не удалялись нежелательные символы и BOM (Byte Order Mark) в теле фида.

---

## [0.9.1] - 2024-12-10
### Added
- Добавлен шейдер анимации для плейсхолдеров загрузки и тестовый скрипт для управления этой анимацией.

### Changed
- В проекте теперь используется семантическое версирование.
- Убраны ограничения при использовании старых версий плагина (начиная с 0.9.1).
- Изменена структура Sample.

---

## [0.9.0] - 2024-12-04
### Added
- Вспомогательный класс `OptimizedScrollRect` для улучшения оптимизации.
- Сервис для асинхронной загрузки и кэширования изображений.
- Альтернативный `FeedManager`, поддерживающий `OptimizedScrollRect`.

### Fixed
- Проблема инициализации `OfferData` внутри `OfferView`.

---

## [0.8.0] - 2024-12-03
### Added
- Возможность использования плейсхолдеров для текстовых полей в `OfferView`.
- Блокировка редактирования компонентов плагина без обновления через Debug режим инспектора.
- Дополнительные проверки некорректных значений в полях `OfferView`.
- Настройка для сброса `OfferView` при передаче новых данных через `OfferTransfer`.

### Changed
- Внешний вид `OfferView`.
- Дизайн принудительного окна блокировки плагина без обновления.

### Fixed
- Игнорирование лишних символов при обработке ссылок.
- Ссылки без `http/https` больше не обрабатываются.

---

## [0.7.1] - 2024-12-02
### Fixed
- Критическая ошибка инициализации `UI.Selectable.Reset` в Runtime.
- Проблема с вёрсткой в `AboutProject`.
- Значения `RectTransform` у `Fill` в `RangeSlider` больше не становятся `NaN` при некорректных данных.

---

## [0.7.0] - 2024-12-01
### Added
- Функция восстановления всех `Graphic` элементов `OfferView` к исходному состоянию.
- Возможность указывать отсутствие поля в оффере для фильтра `DictionaryToggles`.

### Changed
- Разделение плагина на `Editor.dll` и `Runtime.dll`.

### Fixed
- Границы `Range` теперь восстанавливаются по умолчанию при сбросе фильтров.
- Несоответствие ответственности некоторых Editor-скриптов.

---

## [0.6.0] - 2024-11-30
### Added
- Последовательная загрузка офферов в `FeedManager`.
- Поддержка списка одинаковых элементов.
- C#-скрипт `OfferTransfer` для передачи данных между `OfferView`.
- Функция отслеживания начала и завершения конструирования `OfferView`.
- Возможность работы с приватными данными офферов через `FeedManager.Offers` и `OfferView.OfferData`.

### Changed
- Перемещение плагина в директорию `Assets/Plugins/Opodlinok/DynamicSelector™`.

### Fixed
- Ошибка форматирования чисел с плавающей запятой.
- Критическая ошибка, останавливающая выполнение программы при невозможности проверки обновлений.

---

## [0.5.0] - 2024-11-28
### Added
- Интерфейс `UnityEditor` для настройки плагина.
- Система автоматической проверки обновлений.
- Блокировка `UnityEditor`, если доступна новая версия.

### Changed
- Структура проекта.

### Fixed
- Устранены баги и ошибки в функционале.

---

## [0.4.0] - 2024-11-27
### Added
- Сборка проекта в формате `.dll`.
- Проприетарная лицензия для ПО.
- Сервис обновлений и автоматической установки новых версий плагина.
- Репозиторий проекта.

### Changed
- Улучшения в архитектуре и рефакторинг кода.

---

## [0.3.0] - 2024-11-25
### Added
- Система фильтрации офферов через `FilterManager`.
- Новые типы фильтров.
- Автоматическое обновление списка офферов в `FeedManager` в зависимости от активных фильтров.

### Changed
- Интеграция плагина с `Opodlinok UI`.

---

## [0.2.0] - 2024-11-22
### Added
- Базовый класс `OfferView` для управления значениями офферов.
- UnityEditor классы для настройки скриптов.
- Механизм `ConditionalMappings` и `DefaultValues` в `OfferView`.

### Fixed
- Поведение `FeedManager` при распределении офферов.

---

## [0.1.0] - 2024-11-16
### Added
- Базовая структура проекта.
- Классы `FeedManager`, `FeedParser` и `FeedLoader` для распределения и обработки офферов.
